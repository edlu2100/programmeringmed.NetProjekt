@model programmeringmed.NetProjekt.Models.WorkoutModel

@{
    ViewData["Title"] = "Details";
}

<div class="w">
    <div class=" flex">
        <h1>Details</h1>
        <div>
            <a asp-action="Edit" asp-route-id="@Model?.Id">Edit</a> |
            <a asp-action="Delete" asp-route-id="@Model?.Id"><img src="/Images/close.png" alt=""></a>
            <a asp-action="Index">Go Back</a>
        </div>
        <hr />
    </div>
    <div class="">
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Date)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Date)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Completed)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Completed)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Comment)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Comment)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Rating)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Rating)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Length)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Length)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Username)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Username)
            </dd>
            @if (Model.ExerciseFormId == 1 && Model.Condition != null) // Kondition
            {
                <dt class="col-sm-2">
                    Konditionsmetod
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Condition.ConditionForm.ConditionName)
                </dd>
            }
            else if (Model.ExerciseFormId == 2) // Gym
            {
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.BodyPart)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.BodyPart.BodyPart)
                </dd>
            }
            else if (Model.ExerciseFormId == 3) // Skidåkning
            {
                <dt class="col-sm-2">
                    Location
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Location)
                </dd>
                <dt class="col-sm-2">
                    Organization
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Organization.OrganizationName)
                </dd>
                <dt class="col-sm-2">
                    Discipline
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Discipline.DisciplineName)
                </dd>

                <dt class="col-sm-2">
                    Method
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Method.MethodName)
                </dd>
                <dt class="col-sm-2">
                    Focus
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Focus.FocusName)
                </dd>
                <dt class="col-sm-2">
                    Turns Per Run
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.TurnsPerRun)
                </dd>

                <dt class="col-sm-2">
                    Gate Distance
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.GateDistance)
                </dd>
                <dt class="col-sm-2">
                    Freeruns
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Freeruns)
                </dd>
                <dt class="col-sm-2">
                    Runs
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Runs)
                </dd>
                <dt class="col-sm-2">
                    Completed Runs
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.CompletedRuns)
                </dd>
                <dt class="col-sm-2">
                    Approach To Task
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.ApproachToTask)
                </dd>
                <dt class="col-sm-2">
                    Goal
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.Skiing.Goal)
                </dd>
            }
        </dl>
    </div>

    @if (Model.WorkoutExercises.Any())
    {
        <div>
            <h4>Exercises</h4>
            <table class="table">
                <thead>
                    <tr>
                        <th>Exercise</th>
                        <th>Video</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.WorkoutExercises)
                    {
                        <tr>
                            <td>@Html.DisplayFor(modelItem => item.Exercise.ExerciseName)</td>
                            <td>
                                <!-- YouTube video iframe -->
                                @if (!string.IsNullOrEmpty(item.Exercise.VideoUrl))
                                {
                                    <iframe src="@item.Exercise.VideoUrl" frameborder="0" allowfullscreen></iframe>
                                }
                                else
                                {
                                    <p>No video available</p>
                                }
                            </td>
                            <td> <!-- Lägg till knappen här -->
                                <a asp-controller="Exercise" asp-action="Details" asp-route-id="@item.Exercise.Id">Details</a>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>
